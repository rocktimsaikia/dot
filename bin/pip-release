#!/bin/bash

# build ad release a python package distribution to either testpypi or pypi
# cleanup.sh
echo "ğŸ§¹ Cleaning up build artifacts..."
rm -rf build/
rm -rf dist/
rm -rf *.egg-info
echo "âœ… Cleanup complete!"

echo "ğŸ“¦ Building distribution..."
python -m build

if [ "$1" == "testpypi" ]; then
	echo "ğŸš€ Uploading to TestPyPi..."
	twine upload -r testpypi dist/*
	exit 0
elif [ "$1" == "pypi" ]; then
	echo "ğŸš€ Uploading to PyPi..."
	twine upload dist/*
	exit 0
else
	echo "âš ï¸ Invalid argument. Must be either 'testpypi' or 'pypi'."
	exit 1
fi
